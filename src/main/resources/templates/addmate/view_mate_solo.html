<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.w3.org/1999/xhtml"
    layout:decorate="~{/layout/main}">

<head>
    <title>내가 쓴 1:1 메이트 모집 글</title>
</head>

<body>
    <div layout:fragment="content">
        <div class="view-container">

            <h1 class="board" th:text="${pageTitle}">나의 메이트 모집 관리</h1>

            <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
            <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

            <div class="my-management-tabs">
                <div class="mate-post-box">
                    <a th:href="@{/addMate/my/solo(sport='러닝')}" th:classappend="${activeTab == '러닝'} ? 'active'"
                        class="my-crew-btn">러닝 메이트</a>
                    <a th:href="@{/addMate/my/solo(sport='웨이트')}" th:classappend="${activeTab == '웨이트'} ? 'active'"
                        class="my-crew-btn">웨이트 메이트</a>
                </div>

                <div class="mate-post-box">
                    <a th:href="@{/addMate/my/solo(sport=${activeTab})}" th:classappend="${true} ? 'active'"
                        class="my-crew-btn">1:1 메이트</a>
                    <a th:href="@{/addMate/my/crew(sport=${activeTab})}" th:classappend="${false} ? 'active'"
                        class="my-crew-btn">메이트 크루</a>
                </div>
            </div>


            <div class="crew-list-header">나의 모집 글 조회</div>

            <div class="crew-list-wrapper">

                <div class="empty-message" th:if="${#lists.isEmpty(mateList)}"
                    style="text-align: center; padding: 50px;">
                    <p>작성한 1:1 모집 글이 없습니다.</p>
                </div>

                <div class="view-mate-box crew-card" th:each="mate : ${mateList}">

                    <div class="view-mate-image">
                        <a th:href="@{/addMate/{id}(id=${mate.mateNo})}">
                            <img th:if="${mate.imageUrl != null}" th:src="@{'/files/' + ${mate.imageUrl}}" alt="사진">
                            <img th:if="${mate.imageUrl == null}" th:src="@{/images/default_mate_image.png}" alt="기본">
                        </a>
                    </div>

                    <div class="view-mate-details">
                        <dl>
                            <dt>메이트명</dt>
                            <dd th:text="${mate.mateName}"></dd>
                            <dt>지역</dt>
                            <dd th:text="${mate.region}"></dd>
                            <dt>모임설명</dt>
                            <dd class="description" th:text="${mate.description}"
                                style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 400px;">
                            </dd>

                        </dl>
                    </div>

                    <div class="crew-card-actions">
                        <a th:href="@{/addMate/edit/{id}(id=${mate.mateNo})}" class="btn-crew-edit">수정</a>
                        <a th:href="@{/addMate/delete/{id}(id=${mate.mateNo})}" class="btn-crew-delete"
                            onclick="return confirm('삭제하시겠습니까?');">삭제</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>